@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix owl: <http://www.w3.org/2002/07/owl#>.
@prefix dc: <http://purl.org/dc/elements/1.1/>.
@prefix dcterms: <http://purl.org/dc/terms/>.
@prefix dctype: <http://purl.org/dc/dcmitype/>.
@prefix dcam: <http://purl.org/dc/dcam/>.
@prefix skos: <http://www.w3.org/2004/02/skos/core#>.

<#items>
    rr:logicalTable <#item-view>;
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/BibliographicResource/item_{item_id}";
        rr:class dcterms:BibliographicResource;
    ].
    
<#persons>
    rr:tableName "eperson";
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/Agent/agent_{eperson_id}";
		rr:class dcterms:Agent;
    ];
	
	rr:predicateObjectMap [
      rr:predicate rdf:value;
      rr:objectMap [ rr:template "{firstname} {lastname}" ]
    ].

	
<#collections>
    rr:tableName "collection";
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/BibliographicResource/collection_{collection_id}";
		rr:class dcterms:BibliographicResource;
    ];
	rr:predicateObjectMap [
      rr:predicate rdf:value;
      rr:objectMap [ rr:column "name" ];
    ].

<#communities>
    rr:tableName "community";
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/Agent/community_{community_id}";
		rr:class dcterms:Agent;
    ];
	rr:predicateObjectMap [
      rr:predicate rdf:value;
      rr:objectMap [ rr:column "name" ];
    ].

# DSpace general mappings end here, beginning DC descriptions

<#dc-contributor-author>
    rr:logicalTable <#dc-contributor-author-view>;
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/BibliographicResource/item_{item_id}";
    ];
    rr:predicateObjectMap [
        rr:predicate dc:creator;
        rr:objectMap [ rr:template "http://purl.org/dc/terms/Agent/agent_{text_value}" ];
    ].
    

<#dc-coverage-spatial>
    rr:logicalTable <#dc-coverage-spatial-view>;
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/BibliographicResource/item_{item_id}";
    ];
    rr:predicateObjectMap [
        rr:predicate dc:coverage;
        rr:objectMap [ rr:template "http://purl.org/dc/terms/Location/location_{item_id}" ];
    ].
<#dc-location>
    rr:logicalTable <#dc-coverage-spatial-view>;
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/Location/location_{item_id}";
    ];
    rr:predicateObjectMap [
        rr:predicate rdf:value;
        rr:objectMap [ rr:column "text_value" ];
    ].

	
<#dc-creator>
    rr:logicalTable <#dc-creator-view>;
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/BibliographicResource/item_{item_id}";
    ];
    rr:predicateObjectMap [
        rr:predicate dc:creator;
        rr:objectMap [ rr:column "text_value" ];
    ].
    
<#dc-date-available>
    rr:logicalTable <#dc-date-view>;
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/BibliographicResource/item_{item_id}";
    ];
    rr:predicateObjectMap [
        rr:predicate dcterms:available;
        rr:objectMap [ rr:column "text_value" ];
    ].

<#dc-format-extent>
    rr:logicalTable <#dc-format-extent-view>;
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/BibliographicResource/item_{item_id}";
    ];
    rr:predicateObjectMap [
        rr:predicate dcterms:extent;
        rr:objectMap [ rr:column "text_value" ];
    ].

<#dc-identifier>
    rr:logicalTable <#dc-identifier-uri-view>;
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/BibliographicResource/item_{item_id}";
    ];
    rr:predicateObjectMap [
        rr:predicate dc:identifier;
        rr:objectMap [ rr:column "text_value" ];
    ].

<#dc-language>
    rr:logicalTable <#dc-language-view>;
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/BibliographicResource/item_{item_id}";
    ];
    rr:predicateObjectMap [
        rr:predicate dc:language;
        rr:objectMap [ rr:column "text_value" ];
    ].
    
<#dc-publisher>
    rr:logicalTable <#dc-publisher-view>;
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/BibliographicResource/item_{item_id}";
    ];
    rr:predicateObjectMap [
        rr:predicate dcterms:publisher;
        rr:objectMap [ rr:column "text_value" ];
    ].

<#dc-title>
    rr:logicalTable <#dc-title-view>;
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/BibliographicResource/item_{item_id}";
    ];
    rr:predicateObjectMap [
        rr:predicate dc:title;
        rr:objectMap [ rr:column "text_value" ];
    ].

<#dc-type>
    rr:logicalTable <#dc-type-view>;
    rr:subjectMap [
        rr:template "http://purl.org/dc/terms/BibliographicResource/item_{item_id}";
    ];
    rr:predicateObjectMap [
        rr:predicate dc:type;
        rr:objectMap [ rr:column "text_value" ];
    ].


################################################ views ################################################

## custom views ##

<#item-view>
	rr:sqlQuery """
	SELECT item_id FROM item WHERE in_archive=TRUE
	""".

#	<#Bitsreams>

#	<#BitsreamFormats>


###### schemas: dublin core, mods, lom ######

<#dc-contributor-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='contributor'
	""".

<#dc-contributor-advisor-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='contributor' AND
	mfr.qualifier='advisor'
	""".
	
<#dc-contributor-author-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='contributor' AND
	mfr.qualifier='author'
	""".

<#dc-contributor-editor-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='contributor' AND
	mfr.qualifier='editor'
	""".

<#dc-contributor-illustrator-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='contributor' AND
	mfr.qualifier='illustrator'
	""".

<#dc-contributor-other-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='contributor' AND
	mfr.qualifier='other'
	""".

<#dc-coverage-spatial-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='coverage' AND
	mfr.qualifier='spatial'
	""".

<#dc-coverage-temporal-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='coverage' AND
	mfr.qualifier='temporal'
	""".
	
<#dc-creator-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i
	INNER JOIN metadatavalue AS mv
	ON i.item_id=mv.item_id 
	INNER JOIN metadatafieldregistry AS mfr
	ON mfr.metadata_field_id=mv.metadata_field_id 
	INNER JOIN metadataschemaregistry AS msr
	ON msr.metadata_schema_id=mfr.metadata_schema_id
	WHERE i.in_archive=TRUE AND
	mv.text_value IS NOT NULL AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='creator'
	""".

<#dc-date-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='date'
	""".

<#dc-date-accessioned-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='date' AND
	mfr.qualifier='accessioned'
	""".
	
<#dc-date-available-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='date' AND
	mfr.qualifier='available'
	""".

<#dc-date-copyright-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='date' AND
	mfr.qualifier='copyright'
	""".
	
<#dc-date-created-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='date' AND
	mfr.qualifier='created'
	""".	
	
<#dc-date-issued-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='date' AND
	mfr.qualifier='issued'
	""".
	
<#dc-date-submitted-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='date' AND
	mfr.qualifier='submitted'
	""".	
	
<#dc-date-updated-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='date' AND
	mfr.qualifier='updated'
	""".	
	
<#dc-description-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='description'
	""".	

<#dc-description-abstract-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='description' AND
	mfr.qualifier='abstract'
	""".		
	
<#dc-description-provenance-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='description' AND
	mfr.qualifier='provenance'
	""".		
	
<#dc-description-sponsorship-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='description' AND
	mfr.qualifier='sponsorship'
	""".
	
<#dc-description-statementofresponsibility-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='description' AND
	mfr.qualifier='statementofresponsibility'
	""".
		
<#dc-description-tableofcontents-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='description' AND
	mfr.qualifier='tableofcontents'
	""".

<#dc-description-uri-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='description' AND
	mfr.qualifier='uri'
	""".

<#dc-format-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='format'
	""".

<#dc-format-extent-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='format' AND
	mfr.qualifier='extent'
	""".
	
<#dc-format-medium>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='format' AND
	mfr.qualifier='medium'
	""".

<#dc-format-mimetype>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='format' AND
	mfr.qualifier='mimetype'
	""".

<#dc-identifier-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='identifier'
	""".
	
<#dc-identifier-citation-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='identifier' AND
	mfr.qualifier='citation'
	""".	

<#dc-identifier-govdoc-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='identifier' AND
	mfr.qualifier='govdoc'
	""".	
	
<#dc-identifier-isbn-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='identifier' AND
	mfr.qualifier='isbn'
	""".	
	
<#dc-identifier-issn-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='identifier' AND
	mfr.qualifier='issn'
	""".	
	
<#dc-identifier-sici-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='identifier' AND
	mfr.qualifier='sici'
	""".	
	
<#dc-identifier-ismn-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='identifier' AND
	mfr.qualifier='ismn'
	""".	
	
<#dc-identifier-other-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='identifier' AND
	mfr.qualifier='other'
	""".		
	
<#dc-identifier-uri-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='identifier' AND
	mfr.qualifier='uri'
	""".		
	
<#dc-language-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='language'
	""".

<#dc-language-iso-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='language' AND
	mfr.qualifier='iso'
	""".

<#dc-Publisher-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='Publisher'
	""".

<#dc-relation-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='relation'
	""".

<#dc-relation-isformatof-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='relation' AND
	mfr.qualifier='isformatof'
	""".

<#dc-relation-ispartof-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='relation' AND
	mfr.qualifier='ispartof'
	""".

<#dc-relation-ispartofseries-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='relation' AND
	mfr.qualifier='ispartofseries'
	""".

<#dc-relation-haspart-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='relation' AND
	mfr.qualifier='haspart'
	""".

<#dc-relation-isversionof-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='relation' AND
	mfr.qualifier='isversionof'
	""".

<#dc-relation-hasversion-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='relation' AND
	mfr.qualifier='hasversion'
	""".

<#dc-relation-isbasedon-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='relation' AND
	mfr.qualifier='isbasedon'
	""".

<#dc-relation-isreferencedby-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='relation' AND
	mfr.qualifier='isreferencedby'
	""".

<#dc-relation-requires-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='relation' AND
	mfr.qualifier='requires'
	""".

<#dc-relation-replaces-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='relation' AND
	mfr.qualifier='replaces'
	""".

<#dc-relation-isreplacedby-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='relation' AND
	mfr.qualifier='isreplacedby'
	""".

<#dc-relation-uri-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='relation' AND
	mfr.qualifier='uri'
	""".

<#dc-rights-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='rights'
	""".

<#dc-rights-uri-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='rights' AND
	mfr.qualifier='uri'
	""".

<#dc-source-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='source'
	""".

<#dc-source-uri-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='source' AND
	mfr.qualifier='uri'
	""".
	
<#dc-subject-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='subject'
	""".
	
<#dc-subject-classification-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='subject' AND
	mfr.qualifier='classification'
	""".
	
<#dc-subject-ddc-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='subject' AND
	mfr.qualifier='ddc'
	""".

<#dc-subject-lcc-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='subject' AND
	mfr.qualifier='lcc'
	""".
	
<#dc-subject-lcsh-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='subject' AND
	mfr.qualifier='lcsh'
	""".	
	
<#dc-subject-mesh-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='subject' AND
	mfr.qualifier='mesh'
	""".	
	
<#dc-subject-other-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='subject' AND
	mfr.qualifier='other'
	""".	
	
<#dc-title-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='title'
	""".

<#dc-title-alternative-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='title' AND
	mfr.qualifier='alternative'
	""".	
	
<#dc-type-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://dublincore.org/documents/dcmi-terms/' AND
	mfr.element='type'
	""".

<#mods-accessCondition-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://www.loc.gov/standards/mods/mods.xsd' AND
	mfr.element='accessCondition'
	""".
	
<#mods-note-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://www.loc.gov/standards/mods/mods.xsd' AND
	mfr.element='note'
	""".
	
<#mods-originInfo-edition-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://www.loc.gov/standards/mods/mods.xsd' AND
	mfr.element='originInfo' AND
	mfr.qualifier='edition'
	""".	

<#mods-originInfo-place-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://www.loc.gov/standards/mods/mods.xsd' AND
	mfr.element='originInfo' AND
	mfr.qualifier='place'
	""".	
 
<#mods-recordInfo-recordOrigin-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://www.loc.gov/standards/mods/mods.xsd' AND
	mfr.element='recordInfo' AND
	mfr.qualifier='recordOrigin'
	""".	

<#lom-classification-keyword-view>
	rr:sqlQuery """
	SELECT i.item_id AS item_id, mv.text_value AS text_value
	FROM item AS i, metadatavalue AS mv, metadataschemaregistry AS msr, metadatafieldregistry AS mfr WHERE
	i.in_archive=TRUE AND
	msr.metadata_schema_id=mfr.metadata_schema_id AND
	mfr.metadata_field_id=mv.metadata_field_id AND
	mv.text_value is not null AND
	i.item_id=mv.item_id AND
	msr.namespace='http://ltsc.ieee.org/xsd/LOM' AND
	mfr.element='classification' AND
	mfr.qualifier='keyword'
	""".
	